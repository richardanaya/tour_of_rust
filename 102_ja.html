<!DOCTYPE html>
    <html lang="ja" dir="ltr">
    <head>
        <title>Rust ツアー - Let's go on an adventure!</title>

        <meta charset="UTF-8">
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="utf-8" http-equiv="encoding">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="keywords" content="Rust, Programming, Learning">
        <meta name="description" content="Welcome to the Tour of Rust. This is meant to be a step by step guide through the features of the Rust programming language">
        <meta name="theme-color" content="#ff6801"/>

        <link rel="stylesheet" href="tour.css">
        <link rel="preload" href="https://fonts.gstatic.com/s/neuton/v12/UMBQrPtMoH62xUZKdK0vfQr4LLkw6A.woff2" as="font" />
        <link rel="preload" href="https://fonts.gstatic.com/s/neuton/v12/UMBTrPtMoH62xUZCz4g6UCj1Bg.woff2" as="font" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Neuton:ital,wght@0,400;0,700;1,400&display=swap" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:wght@400;700&display=swap" />

        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="./site.webmanifest">

        <script src="./tour.js" defer></script>
    </head>
    <body>
        <div class="tour">
            <div class="header">
                <span class="title"><a href="00_ja.html">Rust ツアー</a></span>
                <span class="nav">
                <span class="toc"><a href="TOC_ja.html">目次</a></span>
            </div>
            <div class="page">
            <h1>[未翻訳] Sharing Across Threads</h1>
            <p><code>Mutex</code> is a container data structure commonly held by smart pointers that takes in data and lets us borrow mutable
and immutable references to the data within. This prevents borrowing from being abused by 
having the operating system restrict only one CPU thread at time to have access to the data, 
blocking other threads until that original thread is done with its locked borrow.</p>
<p>Multithreading is beyond the scope of Tour of Rust, but <code>Mutex</code> is a fundamental part of orchestrating
multiple CPU threads accessing the same data.</p>
<p>There is a special smart pointer <code>Arc</code> which is identical to <code>Rc</code> except uses thread-safe incrementing of reference counts. 
It's often used to have many references to the same <code>Mutex</code>.</p>
            <div class="bottomnav">
                <span class="back"><a href="101_ja.html" rel="prev">❮ 前</a></span>
                <span class="next"><a href="103_ja.html" rel="next">次 ❯</a></span>
            </div>
            </div>
            <div class="code">
            <iframe width="100%" src="https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&code=use%20std%3A%3Async%3A%3AMutex%3B%0A%0Astruct%20Pie%3B%0A%0Aimpl%20Pie%20%7B%0A%20%20%20%20fn%20eat(%26self)%20%7B%0A%20%20%20%20%20%20%20%20println!(%22only%20I%20eat%20the%20pie%20right%20now!%22)%3B%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20mutex_pie%20%3D%20Mutex%3A%3Anew(Pie)%3B%0A%20%20%20%20%2F%2F%20let's%20borrow%20a%20locked%20immutable%20reference%20of%20pie%0A%20%20%20%20%2F%2F%20we%20have%20to%20unwrap%20the%20result%20of%20a%20lock%0A%20%20%20%20%2F%2F%20because%20it%20might%20fail%0A%20%20%20%20let%20ref_pie%20%3D%20mutex_pie.lock().unwrap()%3B%0A%20%20%20%20ref_pie.eat()%3B%0A%20%20%20%20%2F%2F%20locked%20reference%20drops%20here%2C%20and%20mutex%20protected%20value%20can%20be%20used%20by%20someone%20else%0A%7D%0A" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals" title="Rust Playground" loading="lazy"></iframe>
            </div>
        </div>
    </body>
</html>